<div class="wrapper">
  <mat-tab-group [(selectedIndex)]=index mat-align-tabs="center">
    <mat-tab label="Supply Dropoff Date">
      <form [formGroup]="supplyDropForm" class="content">
          <mat-radio-group formControlName="deliveryMethod" class="radio-group">
            <mat-radio-button value="FREE">FREE pickup date</mat-radio-button>
            <mat-radio-button value="CUSTOM">Custom Date (+$45)</mat-radio-button>
          </mat-radio-group>
            <mat-form-field appearance="outline" *ngIf="(supplyDropForm.get('deliveryMethod').value==='FREE')">
              <mat-label>Select a FREE Pickup Date</mat-label>
              <mat-select formControlName="date">
                <mat-option *ngFor="let date of FreePickupDates" [value]="date.value">
                  {{date.label}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline" *ngIf="(supplyDropForm.get('deliveryMethod').value==='CUSTOM')">
              <mat-label>Choose a date</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Preferred Time</mat-label>
            <mat-select formControlName="time" disableRipple>
              <mat-option *ngFor="let time of preferredTimes" [value]=time>
                {{time}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <button mat-flat-button type="button" (click)="onNext()" [disabled]="!(supplyDropForm.valid)">Next</button>
      </form>
    </mat-tab>

    <mat-tab label="Pickup Date">
          <form [formGroup]="pickupForm" class="content">
          <mat-radio-group formControlName="deliveryMethod" class="radio-group">
            <mat-radio-button value="FREE">FREE pickup date</mat-radio-button>
            <mat-radio-button value="CUSTOM">Custom Date (+$45)</mat-radio-button>
          </mat-radio-group>
            <mat-form-field appearance="outline" *ngIf="(pickupForm.get('deliveryMethod').value==='FREE')">
              <mat-label>Select a FREE Pickup Date</mat-label>
              <mat-select formControlName="date">
                <mat-option *ngFor="let date of FreePickupDates" [value]="date.value">
                  {{date.label}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline" *ngIf="(pickupForm.get('deliveryMethod').value==='CUSTOM')">
              <mat-label>Choose a date</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Preferred Time</mat-label>
            <mat-select formControlName="time" disableRipple>
              <mat-option *ngFor="let time of preferredTimes" [value]=time>
                {{time}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <button mat-flat-button type="button" (click)="index=0">Back</button>
          <button mat-flat-button type="button" color="accent" (click)="onSubmit()" [disabled]="!(pickupForm.valid)">Submit</button>
        </form>
    </mat-tab>
  </mat-tab-group>
</div>
